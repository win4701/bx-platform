<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Bloxio Casino</title>

<style>
body {
  margin: 0;
  background: #0b0f1a;
  color: #fff;
  font-family: Arial, sans-serif;
}
nav {
  position: fixed;
  bottom: 0;
  width: 100%;
  display: flex;
  background: #111;
}
nav button {
  flex: 1;
  padding: 14px;
  background: none;
  border: none;
  color: #aaa;
  font-size: 14px;
}
nav button.active {
  color: gold;
}
.screen {
  display: none;
  padding: 20px;
}
.screen.active {
  display: block;
}
.game {
  background: #161b2e;
  margin: 10px 0;
  padding: 15px;
  border-radius: 10px;
}
button.primary {
  background: gold;
  border: none;
  padding: 12px;
  width: 100%;
  border-radius: 8px;
  font-weight: bold;
}
</style>
</head>

<body>

<div id="play" class="screen active">
  <h2>ğŸ® Play</h2>
  <div class="game">ğŸ”¥ Crash BX</div>
  <div class="game">ğŸ” Chicken Road</div>
  <div class="game">ğŸ² Dice</div>
</div>

<div id="wallet" class="screen">
  <h2>ğŸ’¼ Wallet</h2>
  <button class="primary" onclick="buy('TON')">Buy BX (TON)</button>
  <button class="primary" onclick="buy('USDT')">Buy BX (USDT)</button>
</div>

<div id="rewards" class="screen">
  <h2>ğŸ Rewards</h2>
  <p>Join Telegram â†’ +5 BX</p>
  <p>Play 3 games â†’ +10 BX</p>
  <p>Invite friend â†’ +20 BX</p>
</div>

<nav>
  <button class="active" onclick="openTab('play')">Play</button>
  <button onclick="openTab('wallet')">Wallet</button>
  <button onclick="openTab('rewards')">Rewards</button>
</nav>

<script>
function openTab(id) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.querySelectorAll("nav button").forEach(b => b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  event.target.classList.add("active");
}

function buy(method) {
  const amount = prompt("Enter amount:");
  fetch("/buy", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      telegramId: Telegram.WebApp.initDataUnsafe.user.id,
      amount,
      method
    })
  });
  alert("Payment request sent");
}
</script> <!-- ÙƒÙ„ Ø§Ù„Ù€ HTML ÙÙˆÙ‚ -->

<script>
  // ğŸ”¹ Telegram WebApp init
  Telegram.WebApp.ready();

  // ğŸ”¹ Buy TON
  function buyTON() {
    fetch("/buy-ton", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        telegramId: Telegram.WebApp.initDataUnsafe.user.id,
        ton: 10,
        txHash: "USER_TX_HASH"
      })
    });
  }

  // ğŸ”¹ Crash Game
  let crashPoint = 0;

  function startCrash() {
    fetch("/crash/start", { method: "POST" })
      .then(r => r.json())
      .then(d => crashPoint = d.point);
  }

  function cashout(mult) {
    fetch("/crash/cashout", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ bet: 10, mult, point: crashPoint })
    });
  }
</script>

</body>
</html>

</body>
</html>
