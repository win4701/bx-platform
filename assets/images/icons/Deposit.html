<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bloxio BX</title>
<style>
:root {
  --green-light: #7FCF9A;
  --bg-main: #0A0A0A;
  --bg-panel: #0F1F1A;
  --text-main: #E6FFF3;
  --text-muted: #9FBFB0;
  --border-soft: rgba(127,207,154,0.25);
  --radius: 16px;
  --transition: 0.25s ease;
}

body {
  margin: 0;
  background: var(--bg-main);
  color: var(--text-main);
  font-family: system-ui, sans-serif;
}

.container {
  padding: 16px;
  padding-bottom: 90px;
}

/* ================= COMMON ================= */
.card {
  background: var(--bg-panel);
  border-radius: var(--radius);
  padding: 16px;
  margin-bottom: 16px;
  border: 1px solid var(--border-soft);
}

.btn {
  width: 100%;
  padding: 14px;
  border-radius: var(--radius);
  border: none;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
}

.btn-primary {
  background: var(--green-light);
  color: #000;
}

.btn-primary:active {
  transform: scale(0.97);
}

input, select {
  width: 100%;
  padding: 12px;
  border-radius: var(--radius);
  border: 1px solid var(--border-soft);
  background: transparent;
  color: var(--text-main);
  margin-bottom: 12px;
}

/* ================= MARKET ================= */
.market-toggle {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
}

.market-toggle button {
  flex: 1;
  background: transparent;
  border: 1px solid var(--border-soft);
  color: var(--text-muted);
}

.market-toggle button.active {
  background: var(--green-light);
  color: #000;
}

.rate {
  font-size: 13px;
  color: var(--text-muted);
  margin-bottom: 8px;
}

/* ================= CHART ================= */
.chart {
  height: 120px;
  background: linear-gradient(
    180deg,
    rgba(127,207,154,0.25),
    rgba(127,207,154,0.02)
  );
  border-radius: var(--radius);
  margin-bottom: 12px;
}

/* ================= NAV ================= */
.navbar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #0B1512;
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
  border-top: 1px solid var(--border-soft);
}

.nav-item {
  font-size: 12px;
  color: var(--text-muted);
}

.nav-item.active {
  color: var(--green-light);
}
</style>
</head>

<body>

<header>Bloxio BX</header>

<main>

<!-- HOME -->
<section id="home" class="section active">

  <div class="wallet-row">
  <div><img src="assets/images/icons/bx.png"> BX</div>
  <strong id="bx">0</strong>
</div>
<div class="wallet-row">
  <div><img src="assets/images/icons/ton.png"> TON</div>
  <strong id="ton">0</strong>
</div>
<div class="wallet-row">
  <div><img src="assets/images/icons/usdt.png"> USDT</div>
  <strong id="usdt">0</strong>
</div>
  <div class="card">
  <h3>Deposit</h3>

  <button onclick="deposit('binance')">
    <img src="assets/images/icons/binance.png" style="width:18px;vertical-align:middle">
    Binance
  </button>

  <button onclick="deposit('redotpay')">
    <img src="assets/images/icons/redotpay.png" style="width:18px;vertical-align:middle">
    RedotPay
  </button>

  <button onclick="deposit('ton')">
    <img src="assets/images/icons/ton.png" style="width:18px;vertical-align:middle">
    TON Transfer
  </button>
  </div>
  <div class="card">
    <h3>Withdraw</h3>
    <input id="withdrawAddress" placeholder="Address / Pay ID">
    <input id="withdrawAmount" type="number" placeholder="Amount">
    <select id="withdrawAsset">
      <option value="ton">TON</option>
      <option value="usdt">USDT</option>
    </select>
    <button class="warn" onclick="withdraw()">Withdraw</button>
  </div>

</section>

<!-- MARKET -->
<section id="market" class="section">
  <div class="card">
    <h3>Market</h3>
    <div class="switch">
      <button id="btnBuy" class="active" onclick="setSide('buy')">Buy</button>
      <button id="btnSell" onclick="setSide('sell')">Sell</button>
    </div>
    <input id="amountInput" type="number" placeholder="BX amount">
    <div class="wallet-row"><span>Total</span><strong id="total">0.00</strong></div>
    <div class="sell-limit">
      <div class="bar"><div class="used"></div></div>
      <small>Sell</small>
    </div>
    <button onclick="confirmMarket()">Confirm</button>
  </div>
</section>

<!-- CASINO -->
<section id="casino" class="section">

  <div class="card">
    <h3>Casino</h3>

    <div class="casino-grid">

      <div class="casino-card" onclick="play('dice')">
        <img src="assets/images/icons/dice.png">
        <span>Dice</span>
      </div>

      <div class="casino-card" onclick="play('chicken')">
        <img src="assets/images/icons/chicken.png">
        <span>Chicken</span>
      </div>

      <div class="casino-card" onclick="play('pvp')">
        <img src="assets/images/icons/pvp.png">
        <span>PvP</span>
      </div>

      <div class="casino-card" onclick="play('slots')">
        <img src="assets/images/icons/slots.png">
        <span>Slots</span>
      </div>

      <div class="casino-card wide" onclick="play('crash')">
        <img src="assets/images/icons/crash.png">
        <span>Crash</span>
      </div>

    </div>
  </div>

</section>
<!-- MINING -->
<section id="mining" class="section">
  <div class="card"><h3>Mining</h3>
    <button class="secondary">Silver</button>
    <button class="warn">Gold</button>
  </div>
</section>

<!-- AIRDROP -->
<section id="airdrop" class="section">
  <div class="card"><h3>Airdrop</h3>
    <button>Claim</button>
  </div>
</section>

</main>

<nav>
  <div class="item active" onclick="show('home',this)">
    <img src="assets/images/icons/home.png">Home
  </div>
  <div class="item" onclick="show('market',this)">
    <img src="assets/images/icons/market.png">Market
  </div>
  <div class="item" onclick="show('casino',this)">
    <img src="assets/images/icons/casino.png">Casino
  </div>
  <div class="item" onclick="show('mining',this)">
    <img src="assets/images/icons/mining.png">Mining
  </div>
  <div class="item" onclick="show('airdrop',this)">
    <img src="assets/images/icons/airdrop.png">Airdrop
  </div>
</nav>
<script>
const uid=1;
const price=0.955489564;
let side="buy";

function show(id,el){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('nav .item').forEach(i=>i.classList.remove('active'));
  el.classList.add('active');
}

function setSide(s){
  side=s;
  btn.Buy.classList.toggle("active",s==="buy");
  btn.Sell.classList.toggle("active",s==="sell");
}

amountInput.oninput=()=>{
  total.textContent=(amountInput.value*price).toFixed(4);
};

async function confirmMarket(){
  await fetch(`/market/${side}`,{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({uid,amount:+amountInput.value})
  });
}

async function deposit(provider){
  await fetch("/wallet/deposit",{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({uid,provider,amount:10})
  });
}

async function withdraw(){
  await fetch("/wallet/withdraw",{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      uid,
      asset:withdrawAsset.value,
      amount:+withdrawAmount.value,
      address:withdrawAddress.value
    })
  });
}
</script>

</body>
</html>
